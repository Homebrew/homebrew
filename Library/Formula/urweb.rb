require 'formula'

class Urweb < Formula
  homepage 'http://impredicative.com/ur/'
  url 'http://impredicative.com/ur/urweb-20120310.tgz'
  md5 '2d10f2f4c49646f131f9f9b418b475c4'
  head 'http://hg.impredicative.com/urweb', :using => :hg

  depends_on 'mlton'

  def install
    system "./configure --prefix=#{prefix}"
    system "make"
    system "make install"
  end

  def caveats; <<-EOS.undent
    Programs generated by the Ur/Web compiler can use SQLite,
    PostgreSQL, or MySQL for the data store.

    You probably want to install either PostgreSQL or MySQL
    if you're going to deploy real apps and test them heavily.
    EOS
  end
end
